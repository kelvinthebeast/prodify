extends ../../layouts/default.pug
include ../../mixins/alert.pug
 
block main
    +alert-success(5500) 
    +alert-error(5000)
    h1(class="mb-4") Permission
    if(records)
        div(data-records=records)
        div(class="text-right")
            button(
                type="submit"
                class="btn btn-primary mb-3"
                button-submit
            ) Update

        table(class="table table-hover table-sm" table-permissions)
            thead
                tr
                    th Feature
                    each item in records
                        th(class="text-center") #{item.title}
            tbody
                tr(data-name="id")
                    td
                        each item in records
                            td(class="text-center") 
                                //- input(type="text" value=item.id) 
                                input(type="text" value=item.id id=`${item.id}`)
                // Product Category
                tr
                    td(colspan="4")
                        b Products category
                tr(data-name="products-category_view")
                    td Read
                    each item in records
                        td(class="text-center")
                            input(type="checkbox" data-id=item.id)
                    
                tr(data-name="products-category_create" )
                    td Create
                    each item in records
                        td(class="text-center")
                            input(type="checkbox" data-id=item.id)
                    
                tr(data-name="products-category_edit")
                    td Update
                    each item in records
                        td(class="text-center")
                            input(type="checkbox" data-id=item.id)
                    
                tr(data-name="products-category_delete")
                    td Delete
                    each item in records
                        td(class="text-center")
                            input(type="checkbox" data-id=item.id)
                // Product
            
                tr
                    td(colspan="4")
                        b Product
                    tr(data-name="products_view")
                        td Read
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="products_create" )
                        td Create
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="products_edit")
                        td Update
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="products_delete")
                        td Delete
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                    // Roles
                    tr
                        td(colspan="4")
                            b Roles
                    tr(data-name="roles_view")
                        td Read
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="roles_create" )
                        td Create
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="roles_edit")
                        td Update
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                        
                    tr(data-name="roles_delete")
                        td Delete
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)
                    tr(data-name="roles_permissions")
                        td Permission  
                        each item in records
                            td(class="text-center")
                                input(type="checkbox" data-id=item.id)

    form( 
        id="form-change-permissions" 
        method="POST" 
        class="d-none"
        action=`${prefixAdmin}/roles/permissions?_method=PATCH`) 
        div.form-group 
            input.form-control( type="text" name="permissions" )  
    link(rel="stylesheet", href="/admin/css/role/permissions.css")
    script(src="/admin/js/role.js")